<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <title>Socket.io</title>
    </head>
 
    <body>
        <h1>Communication avec socket.io !</h1>

        <form id="form">
            <input id="msg" type="text">
            <button id="btn_msg" type="submit">Send</button>
        </form>

        <script src="/socket.io/socket.io.js"></script>
        <script>
            document.getElementById('form')
                    .addEventListener('submit', function(e) {
                        e.preventDefault();
                    })

            var socket = io.connect('http://localhost:8080');
            // socket.on('message', function(message) {
            //     console.log('Le serveur a un message pour vous : ' + message);
            // })
            socket.on('message', function(message) {
                console.log('Inconnu: ' + message);
            })
            var msg = document.getElementById('msg');
            document.getElementById('btn_msg')
                    .addEventListener('click', function() {
                        console.log('Moi: ', msg.value)
                        socket.emit('message', msg.value);
                    })
        </script>
    </body>
</html>